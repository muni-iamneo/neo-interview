# ================================
# SERVER CONFIGURATION
# ================================
HOST=0.0.0.0
PORT=8000
DEBUG=false

# ================================
# CORS CONFIGURATION
# ================================
CORS_ORIGINS=http://localhost:4200,http://localhost:4300

# ================================
# JITSI/JAA CONFIGURATION
# ================================
JAA_APP_ID=your-app-id
JAA_TENANT=your-tenant  # Optional, defaults to APP_ID
JAA_PUBLIC_KEY_ID=your-public-key-id
JAA_PRIVATE_KEY=your-private-key  # Or use JAA_PRIVATE_KEY_FILE
JAA_PRIVATE_KEY_FILE=path/to/private/key.pk
JAA_EMBED_DOMAIN=8x8.vc

# ================================
# ELEVENLABS CONFIGURATION
# ================================
ELEVENLABS_API_KEY=your-elevenlabs-api-key
ELEVENLABS_AGENT_ID=your-agent-id
ELEVENLABS_WEBSOCKET_URL=wss://api.elevenlabs.io/v1/convai/conversation
ELEVENLABS_CONVERSATIONS_API_URL=https://api.elevenlabs.io/v1/convai/conversations
ELEVENLABS_MIN_CONVERSATION_DURATION_SECS=90

# ================================
# AZURE OPENAI CONFIGURATION
# ================================
AZURE_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-openai-key
AZURE_OPENAI_MODEL=gpt-4.1-mini
AZURE_OPENAI_DEPLOYMENT=gpt-4.1-mini-hire
OPENAI_API_VERSION=2025-01-01-preview

# ================================
# VOICE PROVIDER SELECTION
# ================================
# Choose provider: "elevenlabs" or "custom"
VOICE_PROVIDER=elevenlabs
ENABLE_CUSTOM_PIPELINE=false

# ================================
# REAL-TIME LLM CONFIGURATION (for custom pipeline)
# ================================
AZURE_OPENAI_MAX_TOKENS=150
AZURE_OPENAI_TEMPERATURE=0.7
# Conversational instructions (appended to all agent system prompts)
LLM_CONVERSATIONAL_INSTRUCTIONS=
IMPORTANT CONVERSATIONAL RULES:
1) Ask exactly ONE question per turn (≤2 sentences, ≤30 words).
2) WAIT for complete candidate responses - never interrupt mid-thought.
3) Briefly acknowledge their answer (≤1 clause) before your next question.
4) Listen carefully and adapt questions based on their responses.
5) Maintain a natural, conversational pace - avoid rushing.
Keep your tone professional yet warm.

# ================================
# ASSEMBLYAI STT CONFIGURATION (Cloud API - Ultra-low latency)
# ================================
# Get your free API key from: https://www.assemblyai.com/ (includes $50 free credits)
# Streaming STT with ~300ms latency and 98% accuracy
# Pricing: $0.15/hour (~$0.0025/minute) - 80% cheaper than self-hosted alternatives
# 7× faster than CPU-based alternatives, immutable transcripts
ASSEMBLYAI_API_KEY=your-assemblyai-api-key-here
# Word boost: Important keywords to improve recognition accuracy (JSON array format)
# Example: ["Python", "JavaScript", "React", "FastAPI", "Docker", "Kubernetes"]
ASSEMBLYAI_WORD_BOOST=[]
# Enable partial transcripts for real-time UI updates (set to true for live feedback)
ASSEMBLYAI_ENABLE_PARTIAL=false

# ================================
# KOKORO TTS CONFIGURATION (CPU-Optimized)
# ================================
# Device: CPU or CUDA (CPU recommended - achieves 4-8x real-time)
KOKORO_DEVICE=cpu
# HuggingFace repository ID
KOKORO_REPO_ID=hexgrad/Kokoro-82M
# Language code: 'a'=American English, 'b'=British English
KOKORO_LANG_CODE=a
# Voice ID: af_heart (female), af_bella, af_sarah, am_adam (male), am_michael
KOKORO_VOICE=af_heart

# ================================
# AUDIO CONFIGURATION
# ================================
AUDIO_SAMPLE_RATE=16000
AUDIO_CHUNK_SIZE=1024
AUDIO_FLUSH_BYTES=3200
AUDIO_FLUSH_INTERVAL=0.5

# ================================
# VAD (Voice Activity Detection) CONFIGURATION
# ================================
# Threshold for voice detection (higher = less sensitive, fewer false positives)
VAD_THRESHOLD=0.002
# Buffer chunks before speech starts (increased for better context)
VAD_PRE_START_CHUNKS=30
# Auto-trigger after N chunks (increased to require longer speech for complete sentences)
# At 50ms per chunk: 80 chunks = 4 seconds of continuous speech minimum
VAD_AUTO_START_CHUNKS=80
# Minimum RMS energy (increased to filter out quiet background noise)
VAD_MIN_RMS=0.008

# ================================
# SESSION MANAGEMENT
# ================================
SESSION_TIMEOUT_SECONDS=3600
SESSION_CLEANUP_INTERVAL=300

# ================================
# JWT CONFIGURATION
# ================================
JWT_DEFAULT_TTL_SECONDS=3600
JWT_MAX_TTL_SECONDS=86400

# ================================
# LINKS CONFIGURATION
# ================================
MOD_TOKEN_SECRET=change-me-in-production
LINK_TTL_MINUTES=1440
AGENT_MAX_LINKS=5

# ================================
# REDIS CONFIGURATION
# ================================
CACHE_BACKEND_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1

# ================================
# LOGGING CONFIGURATION
# ================================
LOG_LEVEL=INFO
